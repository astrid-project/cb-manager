.. _configuration:

Configuration
=============

The configuration is stored in the ``config.ini`` file.

+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| Section            | Setting           | Default value         | Note                                                            |
+====================+===================+=======================+=================================================================+
| ``context-broker`` | ``host``          | 0.0.0.0               | IP address to accept requests.                                  |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``context-broker`` | ``port``          | 5000                  | TCP port to accept requests.                                    |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``context-broker`` | ``https``         | false                 | Accept only HTTPS requests.                                     |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``auth``           | ``enabled``       | true                  | Enable JWT authentication.                                      |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``auth``           | ``header-prefix`` | ASTRID                | Header prefix for JWT authentication.                           |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``auth``           | ``secret-key``    | astrid-secret-key     | Secret key for JWT authentication.                              |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``heartbeat``      | ``timeout``       | 10s                   | Timeout for heartbeat procedure with LCPs.                      |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``heartbeat``      | ``period``        | 1min                  | Period to execute the heartbeat procedure with LCPs.            |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``elasticsearch``  | ``endpoint``      | localhost:9200        | Endpoint connection to Elasticsearch instance.                  |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``elasticsearch``  | ``timeout``       | 20s                   | Timeout for connection to Elasticsearch instance.               |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``elasticsearch``  | ``retry-period``  | 1min                  | Time to wait to retry the connection to Elasticsearch instance. |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``elastic-apm``    | ``enabled``       | false                 | Enable Elastic APM integration.                                 |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``elastic-apm``    | ``server``        | http://localhost:8200 | Elastic APM server.                                             |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
| ``log``            | ``level``         | DEBUG                 | Log level.                                                      |
+--------------------+-------------------+-----------------------+-----------------------------------------------------------------+
