swagger: '2.0'
basePath: /
paths:
  '/catalog/{id}':
    parameters:
      - name: id
        in: path
        required: false
        type: string
    get:
      responses:
        '200':
          description: List of agents in the catalog
          schema:
            type: array
            items:
              $ref: '#/definitions/agent-catalog'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/bad-request'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/unauthorized'
      description: List of agents in the catalog
      operationId: get_catalog
      parameters:
        - name: payload
          required: true
          in: body
          schema:
            $ref: '#/definitions/query-request'
      tags:
        - agent
        - catalog
        - create
    post:
      responses:
        '201':
          description: Agents inserted in the catalog
          schema:
            $ref: '#/definitions/create-response'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/bad-request'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/unauthorized'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/create-not-found'
        '409':
          description: Conflict
          schema:
            $ref: '#/definitions/create-conflict'
      description: Add new agents to the catalog
      operationId: post_catalog
      parameters:
        - name: payload
          required: true
          in: body
          schema:
            oneOf:
              - $ref: '#/definitions/agent-catalog'
              - type: array
                items:
                  $ref: '#/definitions/agent-catalog'
      tags:
        - agent
        - catalog
        - create
    put:
      responses:
        '200':
          description: Agent correctly updated
          schema:
            $ref: '#/definitions/update-response'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/bad-request'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/unauthorized'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/update-not-found'
        '409':
          description: Conflict
          schema:
            $ref: '#/definitions/update-conflict'
      description: Update agents in the catalog
      operationId: put_catalog
      parameters:
        - name: payload
          required: true
          in: body
          schema:
            oneOf:
              - $ref: '#/definitions/agent-catalog'
              - type: array
                items:
                  $ref: '#/definitions/agent-catalog'
      tags:
        - agent
        - catalog
        - update
    delete:
      responses:
        '200':
          description: Agent correctly deleted
          schema:
            $ref: '#/definitions/update-response'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/bad-request'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/unauthorized'
      description: Delete agents from the catalog
      operationId: delete_catalog
      parameters:
        - name: payload
          required: true
          in: body
          schema:
            $ref: '#/definitions/query-request'
      tags:
        - agent
        - catalog
        - delete
